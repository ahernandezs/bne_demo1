		<div class="content-tabs">
			<div class="tab-pagos-multiples">
				<div class="" ng-switch on="state">
					<div ng-switch-when="multiplePayments">
						<div class="clear-fix">
							<p class="paginador" ng-hide="collapseFive">Paso <span>1</span> de <span>3</span></p>
						</div>
					</div>
					<div ng-switch-when="beneficiaryGroups">
						<div class="clear-fix">
							<p class="paginador" ng-hide="collapseFive">Paso <span>1</span> de <span>3</span></p>
						</div>
					</div>
				</div>
				<p>
					Seleccione una cuenta de retiro, capture la informaci&oacute;n de su(s) pago(s) y d&eacute; clic en "Continuar". Si requiere adicionar m&aacute;s pagos d&eacute; clic en el bot&oacute;n "Agregar m&aacute;s pagos".
				</p>
			<div ng-show="state=='beneficiaryGroups'">
				<p class="intrucciones"><strong>Nombre del grupo:&nbsp;&nbsp;</strong>{{selectedGroup.name}}</p>
			</div>
				<table class="table">
					<thead>
						<tr ng-class-odd="'bgf0f4f9'" ng-class-even="">
							<th class="width25"><div class="head">&nbsp;</div></th>
							<th><div class="head textL paddingL10">Cuentas</div></th>
							<th class="width200"><div class="head"><span class="span175">Importe MXN</span></div></th>
							<th class="width230"><div class="head"><label class="span175">Fecha de pago</label></div></th>
							<th class="width50"><div class="head">&nbsp;</div></th>
						</tr>
					</thead>
					<tbody ng-repeat="payingAccount in ownpayingAccounts">
						<tr ng-class-odd="'bgf0f4f9'" ng-class-even="">
							<td>
								<div class="textC">{{$index + 1}}</div>
							</td>
							<td>
								<div class="content paddingL10">
									<div class="pull-left paddingR10 textL">
										<span>
											Cuenta retiro<br>
											<angucomplete id="origin-account"
												placeholder="Cuenta / Alias"
												pause="20"
												selectedobject="payingAccount.source"
												url="http://projects.anzen.com.mx:4567/api/accounts?query="
												datafield="docs"
												titlefield="name,currency_t,format_amount_t"
												minlength="1"
												enabledefault="true"
												class="pull-left cuenta"
												inputclass="form-control form-control-small search"/>
										</span>
										<br><br>
										<div ng-show="$index == 0 && state=='multiplePayments'" class="clear-fix textL">
											<span class="ultimo-pago">
												<input type="checkbox" ng-model="sameAccount4All" ng-change="oneAccount4All(sameAccount4All,payingAccount);"/>&nbsp;Usar la misma cuenta para todos los pagos
											</span>
										</div>
									</div>
									<div class="pull-left">
										<span class="span310">
											<span class="pull-left">
												Cuenta dep&oacute;sito<br>
												<angucomplete id="target-account"
													placeholder="Clabe / Cuenta / Alias / Celular"
													pause="20"
													selectedobject="payingAccount.target"
													url="http://projects.anzen.com.mx:4567/api/allaccounts?query="
													datafield="docs"
													titlefield="name,bank_t,format_amount_t,currency_t,type_name"
													minlength="1"
													enabledefault="true"
													inputclass="form-control form-control-small search"/>
											</span>
											<div ng-show="state=='multiplePayments'">
												<span class="pull-left paddingT17">
													<a href="javascript:void(0);" ng-click="showBeneficiary()">Agregar un<br>beneficiario</a>
												</span>
											</div>
										</span>
										<div class="clear-fix textL">
											<span class="ultimo-pago" ng-class="{'v-hidden': !payingAccount.target}">Ãšltimo pago: {{payingAccount.target.originalObject.last_payment_d | currency}} {{payingAccount.target.originalObject.last_date_t | date:'dd/MM/yyyy'}}</span>
										</div>
										<div class="clear-fix textL" ng-show="payingAccount.target.originalObject.type_i === 3">
											<span>Sucursal</span>
											<div class="content paddingL0">
												<form class="form-inline">
													<input class="form-control width40" type="text" value="" ng-model="payingAccount.branch" maxlength="4" numbers-only="numbers-only">
												</form>
												<a href="">Ver el directorio de sucursales</a>
											</div>
										</div>
									</div>
								</div>
							</td>
							<td>
								<div class="content">
									<form class="form-inline paddingT19 span180" ng-show="payingAccount.target.originalObject.account_type_i !== 3">
										<span class="paddingR3">$</span> <input placeholder="Importe" class="form-control width120" ng-class="{'textR': payingAccount.amount }" type="text" value="" ng-model="payingAccount.amount" maxlength="12" numbers-only="numbers-only" currency="" onkeypress="return NumCheck(event, this)">
									</form>
									<form class="form-inline" ng-show="payingAccount.target.originalObject.account_type_i === 3">
										<label class="fontNormal paddingT10 clear-fix span180 paddingL3">
											<input class="v-alignT" type="radio" name="radio1">
											<span class="displayIB paddingL3">
												Pago m&iacute;nimo MXN<br><span class="color666666">$250.00</span>
											</span>
										</label>
										<label class="fontNormal paddingT10 clear-fix span180 paddingL3">
											<input class="v-alignT" type="radio" name="radio1">
											<span class="displayIB paddingL3">
												Pago para no generar<br>intereses MXN<br><span class="color666666">$100.00</span>
											</span>
										</label>
										<label class="fontNormal paddingT10 clear-fix span180 paddingL3">
											<input class="v-alignT" type="radio" name="radio1">
											<span class="displayIB paddingL3">
												Otro importe
												<br><input class="form-control width120 textR" type="text" value="" ng-model="payingAccount.amount" maxlength="16" numbers-only="numbers-only" currency="">
											</span>
										</label>
									</form>
								</div>
							</td>
							<td>
								<div class="content">
									<form class="form-inline span175">
										<span class="paddingR3">Fecha</span> <input class="form-control calendario " type="text" value="" jqdatepicker ng-model="payingAccount.date" ng-change="payingAccount.programming = true" maxlength="10">
										<span class="ico-calendar"></span>
									</form>
									<span class="span175" ng-show="payingAccount.target.originalObject.type_i === 1">
										<strong >Fecha de aplicaci&oacute;n</strong>
										<form class="form-inline">
											<select ng-model="payingAccount.application_date_s">
												<option value="">Mismo d&iacute;a</option>
												<option>24 horas</option>
											</select>
										</form>
									</span>
									<form class="form-inline span175 paddingB15" ng-show="payingAccount.target.originalObject.type_i !== 1">
										<strong>Hora&nbsp;&nbsp;</strong>
										<div class="clear-fix textL" ng-show="payingAccount.target.originalObject.type_i === 3">
											<select ng-options="hour.name for hour in hoursCombo2" ng-model="payingAccount.hours" ng-change="payingAccount.programming = true">
												<option value="">Ahora</option>
											</select>
											hrs
										</div>
										<div class="clear-fix textL" ng-show="payingAccount.target.originalObject.type_i !== 3">
											<select ng-options="hour.name for hour in hoursCombo" ng-model="payingAccount.hours" ng-change="payingAccount.programming = true">
												<option value="">Ahora</option>
											</select>
											hrs
										</div>
									</form>
									<label class="span175"><input type="checkbox" ng-click="verifyThirdMode(payingAccount, 'remote')" value="" ng-model="payingAccount.remote"> Autorizar en forma remota</label>
								</div>
							</td>
							<td class="v-alignM">
								<div class="tooltip-eliminar tooltip-propias{{$index}}" ng-show="ownpayingAccounts.length != 1">
									<p>Eliminar</p>
									<div class="arrow"></div>
								</div>
								<div class="tooltip-eliminar tooltip-agregar{{$index}}" ng-show="ownpayingAccounts.length == 1">
									<p>Agregar</p>
									<div class="arrow"></div>
								</div>
								<button ng-show="ownpayingAccounts.length != 1" class="btn btn-danger btn-cuadrado btn-tltp-propias{{$index}}"
									ng-mouseover="show_tltp_eliminar('.tooltip-propias'+$index, '.btn-tltp-propias'+$index)"
									ng-mouseleave="hide_tltp('.tooltip-propias'+$index)"
									ng-click="removePayment(ownpayingAccounts, $index)" >
									<span class="ico-basurero"></span>
								</button>
								<button ng-show="ownpayingAccounts.length == 1" class="btn btn-primary btn-cuadrado btn-tooltip-mas{{$index}}"
									ng-mouseover="show_tltp_eliminar('.tooltip-agregar' + $index, '.btn-tooltip-mas' + $index)"
									ng-mouseleave="hide_tltp('.tooltip-agregar'+$index)"
									ng-click="addMoreOwnPayments()" >
									+
								</button>

							</td>
						</tr>

						<!-- third account type -->
						<tr ng-class-odd="'bgf0f4f9'" ng-class-even="" ng-show="payingAccount.target.originalObject.type_i === 2">
							<td></td>
							<td colspan="4">
								<div class="content pull-left paddingL10">
									<div class="span175">
										<input ng-change="fiscalVerify(payingAccount)" type="checkbox" ng-checked="payingAccount.editRfc || payingAccount.editIva" ng-model="payingAccount.references"> Comprobante Fiscal<br>
										<form class="form-inline paddingL3">
											<strong class="width30 inline">RFC</strong> <input class="form-control width120" type="text" value="" ng-model="payingAccount.rfc" maxlength="13" ng-change="payingAccount.fiscal = true; payingAccount.editRfc = true" ng-click="payingAccount.editRfc = true">
										</form>
										<form class="form-inline paddingL3">
											<strong class="width30 inline">IVA</strong> <input class="form-control width110" maxlength="10" type="text" value="" ng-model="payingAccount.iva" ng-change="payingAccount.fiscal = true; payingAccount.editIva = true" numbers-only="numbers-only" ng-click="payingAccount.editIva = true">
										</form>
									</div>
								</div>
								<div class="content pull-left textL paddingL65">
									<label class="paddingL10">
										<input type="checkbox" ng-click="payingAccount.editNumeric=!payingAccount.editNumeric;payingAccount.editAlpha=!payingAccount.editAlpha" ng-model="payingAccount.concentradora"/> Cuenta concentradora
									</label>
									<span class="paddingL3">(L&iacute;nea Banamex)</span>
									<br>
									<label class="paddingL10"><input type="checkbox" ng-checked="payingAccount.editNumeric || payingAccount.editAlpha || payingAccount.editConcept" ng-model="payingAccount.references"/> Referencias</label>
									<form class="form-inline paddingL3">
										<label class="paddingL10">
											<span>Referencia num&eacute;rica</span><br>
											<input type="text" class="form-control width85" maxlength="10" ng-model="payingAccount.numeric" ng-change="payingAccount.references = true; payingAccount.editNumeric = true" numbers-only="numbers-only" ng-click="payingAccount.editNumeric = true">
										</label>
										<label class="paddingL10">
											<span>Referencia alfanum&eacute;rica</span><br>
											<input type="text" class="form-control width230" maxlength="30" ng-model="payingAccount.alpha" ng-change="payingAccount.references = true; payingAccount.editAlpha = true" ng-click="payingAccount.editAlpha = true">
										</label>
										<div class="clear-fix">
											<label class="paddingL10">
												<span>Concepto del pago</span><br>
												<input type="text" class="form-control width340" maxlength="40" ng-model="payingAccount.concept" ng-change="payingAccount.references = true; payingAccount.editConcept = true" ng-click="payingAccount.editConcept = true">
											</label>
										</div>
									</form>
								</div>
							</td>
						</tr>

						<!-- interbank type -->
						<tr ng-class-odd="'bgf0f4f9'" ng-class-even="" ng-show="payingAccount.target.originalObject.type_i === 1">
							<td></td>
							<td colspan="4">
								<div class="content pull-left paddingL10">
									<div class="span175"><input ng-change="fiscalVerify(payingAccount)" type="checkbox" ng-checked="payingAccount.editRfc || payingAccount.editIva" ng-model="payingAccount.ComprobanteFiscal">
										Comprobante Fiscal<br>
										<form class="form-inline paddingL3">
											<strong class="inline width30">RFC</strong> <input class="form-control width120" type="text" value="" ng-model="payingAccount.rfc" maxlength="13" ng-change="payingAccount.fiscal = true; payingAccount.editRfc = true" ng-click="payingAccount.editRfc = true">
										</form>
										<form class="form-inline paddingL3">
											<strong class="inline width30">IVA&nbsp;&nbsp;</strong> <input class="form-control width110" maxlength="10" type="text" value="" ng-model="payingAccount.iva" ng-change="payingAccount.fiscal = true; payingAccount.editIva = true" numbers-only="numbers-only" ng-click="payingAccount.editIva = true">
										</form>
									</div>
								</div>
								<div class="content pull-left textL paddingL65">
									<label class="paddingL10"><input type="checkbox" ng-checked="payingAccount.editNumeric || payingAccount.editConcept || true"/> Referencias</label>
									<form class="form-inline paddingL3">
										<label class="paddingL10">
											<span>N&uacute;mero de referencia</span><br>
											<input type="text" class="form-control width85" maxlength="10" ng-model="payingAccount.numeric" ng-change="payingAccount.references = true; payingAccount.editNumeric = true" numbers-only="numbers-only" ng-click="payingAccount.editNumeric = true">
										</label>
										<div class="clear-fix">
											<label class="paddingL10">
												<span>Concepto del pago</span><br>
												<input type="text" class="form-control width340" maxlength="40" ng-model="payingAccount.concept" ng-change="payingAccount.references = true; payingAccount.editConcept = true" ng-click="payingAccount.editConcept = true">
											</label>
										</div>
									</form>
								</div>
							</td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<td colspan="2" class="textR paddingR10">TOTAL A PAGAR:</td>
							<td class="textR ">
								<div class="paddingR65">{{ getTotalPayment(ownpayingAccounts) | currency}}</div>
							</td>
							<td colspan="2"></td>
						</tr>
					</tfoot>
				</table>
				<button type="button" class="btn btn-primary" ng-click="addMoreOwnPayments()">Agregar pagos</button>
			</div>
		</div>
<SCRIPT LANGUAGE="JavaScript"> 
function NumCheck(e, field) {

  key = e.keyCode ? e.keyCode : e.which

if(field.value != ""){

  if (key == 8) return true
	if(field.value.indexOf('.')!=-1){

		var tmp = field.value.split('.');
		
		console.log(tmp);
		if(tmp[1].length==2){
			return false
		}

	}

}

  /*key = e.keyCode ? e.keyCode : e.which
  // backspace
  if (key == 8) return true
  // 0-9
  if (key > 47 && key < 58) {
	if (field.value == "") return true
	regexp = /.[0-9]{2}$/
	return !(regexp.test(field.value))
  }
  // .
  if (key == 46) {
	if (field.value == "") return false
	regexp = /^[0-9]+$/
	return regexp.test(field.value)
  }
  // other key
  return false
*/
}

</script> 
